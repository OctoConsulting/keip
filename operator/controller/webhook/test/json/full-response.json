{
  "status": {},
  "children": [
    {
      "apiVersion": "apps/v1",
      "kind": "Deployment",
      "metadata": {
        "name": "testroute",
        "labels": {
          "app.kubernetes.io/managed-by": "integrationroute-controller",
          "app.kubernetes.io/name": "integrationroute",
          "app.kubernetes.io/instance": "integrationroute-testroute",
          "app.kubernetes.io/version": "latest",
          "firstKey": "firstValue"
        }
      },
      "spec": {
        "selector": {
          "matchLabels": {
            "app.kubernetes.io/instance": "integrationroute-testroute"
          }
        },
        "replicas": 2,
        "template": {
          "metadata": {
            "labels": {
              "app.kubernetes.io/managed-by": "integrationroute-controller",
              "app.kubernetes.io/name": "integrationroute",
              "app.kubernetes.io/instance": "integrationroute-testroute",
              "app.kubernetes.io/version": "latest",
              "firstKey": "firstValue"
            },
            "annotations": {
              "aKey1": "aValue1"
            }
          },
          "spec": {
            "serviceAccountName": "integrationroute-service",
            "containers": [
              {
                "name": "integration-app",
                "image": "keip-integration",
                "volumeMounts": [
                  {
                    "name": "integration-route-config",
                    "mountPath": "/var/spring/xml"
                  },
                  {
                    "name": "testroute-secret",
                    "readOnly": true,
                    "mountPath": "/etc/secrets/testroute-secret"
                  },
                  {
                    "name": "testroute-pvc",
                    "mountPath": "/tmp/testdir"
                  },
                  {
                    "name": "truststore",
                    "readOnly": true,
                    "mountPath": "/etc/cabundle"
                  }
                ],
                "livenessProbe": {
                  "httpGet": {
                    "path": "/actuator/health/liveness",
                    "port": 8080
                  },
                  "initialDelaySeconds": 10
                },
                "readinessProbe": {
                  "httpGet": {
                    "path": "/actuator/health/readiness",
                    "port": 8080
                  },
                  "initialDelaySeconds": 10
                },
                "env": [
                  {
                    "name": "SPRING_APPLICATION_JSON",
                    "value": "{\"spring\": {\"config.import\": \"kubernetes:\", \"application\": {\"name\": \"testroute\"}, \"cloud\": {\"kubernetes\": {\"config\": {\"fail-fast\": true, \"namespace\": \"testspace\", \"sources\": [{\"name\": \"testroute-props\"}, {\"labels\": {\"group\": \"ir-common\"}}]}, \"secrets\": {\"paths\": \"/etc/secrets\"}}}}}"
                  },
                  {
                    "name": "JDK_JAVA_OPTIONS",
                    "value": "-Djavax.net.ssl.trustStore=/etc/cabundle/truststore.jks -Djavax.net.ssl.trustStorePassword=changeit"
                  }
                ]
              }
            ],
            "volumes": [
              {
                "name": "integration-route-config",
                "configMap": {
                  "name": "testroute-xml"
                }
              },
              {
                "name": "testroute-secret",
                "secret": {
                  "secretName": "testroute-secret"
                }
              },
              {
                "name": "testroute-pvc",
                "persistentVolumeClaim": {
                  "claimName": "testroute-pvc"
                }
              },
              {
                "name": "truststore",
                "configMap": {
                  "name": "test-tls-cm",
                  "items": [
                    {
                      "key": "test-tls-key",
                      "path": "truststore.jks"
                    }
                  ]
                }
              }
            ]
          }
        }
      }
    }
  ]
}